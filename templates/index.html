<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>リンゴ葉色CC評価ツール</title>
</head>
<body>
    <h1>リンゴ葉色CC評価ツール</h1>
    <form method="post">
        <label for="L">L値:</label>
        <input type="number" step="0.01" name="L" required><br>
        <label for="a">a値:</label>
        <input type="number" step="0.01" name="a" required><br>
        <label for="b">b値:</label>
        <input type="number" step="0.01" name="b" required><br>
        <input type="submit" value="評価">
    </form>

    {% if cc_value is not none and cc_value_excel is not none %}
        <h2>結果</h2>
        <p>入力値: L={{ input_lab[0] }}, a={{ input_lab[1] }}, b={{ input_lab[2] }}</p>
        <p>推定CC値（標準値に基づく）: <strong>{{ cc_value }}</strong></p>
        <p>推定CC値（Excelファイルに基づく）: <strong>{{ cc_value_excel }}</strong></p>

        <h3>ΔE（色差）一覧（標準値）</h3>
        <ul>
        {% for level, delta in delta_e_std.items() %}
            <li>CC{{ level }}: ΔE = {{ delta|round(2) }}</li>
        {% endfor %}
        </ul>

        <h3>ΔE（色差）一覧（Excel値）</h3>
        <ul>
        {% for level, delta in delta_e_excel.items() %}
            <li>CC{{ level }}: ΔE = {{ delta|round(2) }}</li>
        {% endfor %}
        </ul>
    {% endif %}
</body>
</html>
