<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>リンゴ葉色CC評価ツール</title>
</head>
<body>
    <h1>リンゴ葉色CC評価ツール</h1>
    <form method="post">
        <label for="L">L値:</label>
        <input type="number" step="0.01" name="L" required><br>
        <label for="a">a値:</label>
        <input type="number" step="0.01" name="a" required><br>
        <label for="b">b値:</label>
        <input type="number" step="0.01" name="b" required><br>
        <input type="submit" value="評価">
    </form>

    {% if input_lab %}
        <h2>結果</h2>
        <p>入力値: L={{ input_lab[0] }}, a={{ input_lab[1] }}, b={{ input_lab[2] }}</p>

        <h3>直接入力CCとのΔE</h3>
        <ul>
        {% for d in deltas_direct %}
            <li>CC値 {{ d.cc }}: ΔE = {{ d.delta }}</li>
        {% endfor %}
        </ul>
        <p><strong>最も近い直接入力CC値: {{ closest_direct.cc }}（ΔE = {{ closest_direct.delta }}）</strong></p>

        {% if deltas_excel %}
        <h3>Excel由来CCとのΔE</h3>
        <ul>
        {% for d in deltas_excel %}
            <li>CC値 {{ d.cc }}: ΔE = {{ d.delta }}</li>
        {% endfor %}
        </ul>
        <p><strong>最も近いExcel由来CC値: {{ closest_excel.cc }}（ΔE = {{ closest_excel.delta }}）</strong></p>
        {% endif %}
    {% endif %}
</body>
</html>
